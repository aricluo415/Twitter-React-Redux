{"ast":null,"code":"var _jsxFileName = \"/Users/aricluo/VS_Code_Projects/Twitter-React-Django/twitter_react_django/twitter_react_django/client/src/containers/UserProfile.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Tweet from \"../components/Tweet\";\nimport Follows from \"../components/Follows\";\nimport \"../css/userprofile.css\";\nimport * as actions from \"../actions/tweetActions\";\n\nclass UserProfile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: \"\",\n      follows: [],\n      tweets: []\n    };\n\n    this.fetchProfile = () => {\n      const username = this.props.match.params.username;\n      axios.get(\"http://127.0.0.1:8000/api/profile/\".concat(username)).then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      }).catch(console.log(\"\"));\n    };\n  }\n\n  componentDidMount() {\n    this.fetchProfile();\n  }\n  /*componentWillReceiveProps(newProps) {\n    if (newProps.token) {\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: newProps.token\n      };\n      const username = this.props.match.params.username;\n      axios.get(`http://127.0.0.1:8000/api/profile/${username}`).then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      });\n    } else {\n      console.log(\"no token\");\n      this.setState({\n        profiles: []\n      });\n    }\n  }*/\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.state.user), React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Tweets\"), React.createElement(Tweet, {\n      data: this.state.tweets,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Follows\"), React.createElement(Follows, {\n      data: this.state.follows,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.authReducer.token,\n    tweets: state.userProfileReducer.tweets,\n    follows: state.userProfileReducer.follows,\n    user: state.userProfileReducer.follows\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getUserProfile: (username, token) => dispatch(actions.getUserProfile(username, token))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UserProfile));","map":{"version":3,"sources":["/Users/aricluo/VS_Code_Projects/Twitter-React-Django/twitter_react_django/twitter_react_django/client/src/containers/UserProfile.js"],"names":["React","axios","connect","withRouter","Tweet","Follows","actions","UserProfile","Component","state","user","follows","tweets","fetchProfile","username","props","match","params","get","then","res","setState","data","console","log","catch","componentDidMount","render","mapStateToProps","token","authReducer","userProfileReducer","mapDispatchToProps","dispatch","getUserProfile"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Tweet from \"../components/Tweet\";\nimport Follows from \"../components/Follows\";\nimport \"../css/userprofile.css\";\nimport * as actions from \"../actions/tweetActions\";\n\nclass UserProfile extends React.Component {\n  state = {\n    user: \"\",\n    follows: [],\n    tweets: []\n  };\n\n  fetchProfile = () => {\n    const username = this.props.match.params.username;\n    axios\n      .get(`http://127.0.0.1:8000/api/profile/${username}`)\n      .then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      })\n      .catch(console.log(\"\"));\n  };\n  componentDidMount() {\n    this.fetchProfile();\n  }\n  /*componentWillReceiveProps(newProps) {\n    if (newProps.token) {\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: newProps.token\n      };\n      const username = this.props.match.params.username;\n      axios.get(`http://127.0.0.1:8000/api/profile/${username}`).then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      });\n    } else {\n      console.log(\"no token\");\n      this.setState({\n        profiles: []\n      });\n    }\n  }*/\n\n  render() {\n    return (\n      <div>\n        <h2>{this.state.user}</h2>\n\n        <div className=\"left\">\n          <h1>Tweets</h1>\n          <Tweet data={this.state.tweets} />\n        </div>\n        <div className=\"right\">\n          <h1>Follows</h1>\n          <Follows data={this.state.follows} />\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    token: state.authReducer.token,\n    tweets: state.userProfileReducer.tweets,\n    follows: state.userProfileReducer.follows,\n    user: state.userProfileReducer.follows\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getUserProfile: (username, token) =>\n      dispatch(actions.getUserProfile(username, token))\n  };\n};\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(UserProfile)\n);\n"]},"metadata":{},"sourceType":"module"}