{"ast":null,"code":"var _jsxFileName = \"/Users/aricluo/VS_Code_Projects/Twitter-React-Django/twitter_react_django/twitter_react_django/client/src/containers/UserProfile.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Tweet from \"../components/Tweet\";\nimport Follows from \"../components/Follows\";\nimport \"../css/userprofile.css\";\n\nclass UserProfile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: \"\",\n      follows: [],\n      tweets: []\n    };\n\n    this.fetchProfile = () => {\n      axios.get(\"http://127.0.0.1:8000/api/profile/\".concat(localStorage.getItem(\"user\"))).then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      }).catch(console.log(\"\"));\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"mounted\");\n    this.fetchProfile();\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.token) {\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: newProps.token\n      };\n      const username = this.props.match.params.username;\n      axios.get(\"http://127.0.0.1:8000/api/profile/\".concat(username)).then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      });\n    } else {\n      console.log(\"no token\");\n      this.setState({\n        profiles: []\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.user), React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Tweets\"), React.createElement(Tweet, {\n      data: this.state.tweets,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Follows\"), React.createElement(Follows, {\n      data: this.state.follows,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(UserProfile));","map":{"version":3,"sources":["/Users/aricluo/VS_Code_Projects/Twitter-React-Django/twitter_react_django/twitter_react_django/client/src/containers/UserProfile.js"],"names":["React","axios","connect","withRouter","Tweet","Follows","UserProfile","Component","state","user","follows","tweets","fetchProfile","get","localStorage","getItem","then","res","setState","data","username","console","log","catch","componentDidMount","componentWillReceiveProps","newProps","token","defaults","headers","Authorization","props","match","params","profiles","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Tweet from \"../components/Tweet\";\nimport Follows from \"../components/Follows\";\nimport \"../css/userprofile.css\";\nclass UserProfile extends React.Component {\n  state = {\n    user: \"\",\n    follows: [],\n    tweets: []\n  };\n\n  fetchProfile = () => {\n    axios\n      .get(`http://127.0.0.1:8000/api/profile/${localStorage.getItem(\"user\")}`)\n      .then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      })\n      .catch(console.log(\"\"));\n  };\n  componentDidMount() {\n    console.log(\"mounted\");\n    this.fetchProfile();\n  }\n  componentWillReceiveProps(newProps) {\n    if (newProps.token) {\n      axios.defaults.headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: newProps.token\n      };\n      const username = this.props.match.params.username;\n      axios.get(`http://127.0.0.1:8000/api/profile/${username}`).then(res => {\n        this.setState({\n          user: res.data.user.username,\n          follows: res.data.follows.follows,\n          tweets: res.data.tweets\n        });\n        console.log(res.data);\n      });\n    } else {\n      console.log(\"no token\");\n      this.setState({\n        profiles: []\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>{this.state.user}</h2>\n\n        <div className=\"left\">\n          <h1>Tweets</h1>\n          <Tweet data={this.state.tweets} />\n        </div>\n        <div className=\"right\">\n          <h1>Follows</h1>\n          <Follows data={this.state.follows} />\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\nexport default withRouter(connect(mapStateToProps)(UserProfile));\n"]},"metadata":{},"sourceType":"module"}